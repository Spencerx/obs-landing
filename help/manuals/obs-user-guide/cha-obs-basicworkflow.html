<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>User Guide | Basic OBS Workflow</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.dc" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<meta name="dcterms.modified" content=""/><meta name="dcterms.created" content=""/><meta name="title" content="Basic OBS Workflow"/>
<meta name="description" content="Basic OBS Workflow"/>
<meta name="book-title" content="User Guide"/>
<meta name="chapter-title" content="Chapter 5. Basic OBS Workflow"/>
<meta name="tracker-url" content="https://github.com/openSUSE/obs-docu/issues/new"/>
<meta name="tracker-type" content="gh"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Basic OBS Workflow"/>
<meta property="og:description" content="Basic OBS Workflow"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Basic OBS Workflow"/>
<meta name="twitter:description" content="Basic OBS Workflow"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Basic OBS Workflow",
  
    "description": "Basic OBS Workflow",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="par-working.html" title="Part IV. Usage"/><link rel="next" href="cha-obs-local-building.html" title="Chapter 6. Local Building"/><link type="text/css" rel="preload" as="style" onload="this.rel='stylesheet'" href="https://documentation.suse.com/docserv/res/fonts/suse/suse.css"/><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.js" type="text/javascript"> </script><script>hljs.highlightAll();</script></head><body class="wide offline js-off"><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"/></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">User Guide</a><span> / </span><a class="crumb" href="par-working.html">Usage</a><span> / </span><a class="crumb" href="cha-obs-basicworkflow.html">Basic OBS Workflow</a></div></div><main id="_content"><nav id="_side-toc-overall" tabindex="0" class="side-toc"><div class="side-title">User Guide</div><ol role="list"><li role="listitem"><a href="bk01pr01.html" class=" "><span class="title-number"> </span><span class="title-name">About this Guide</span></a></li><li role="listitem"><a href="par-first-steps.html" class="has-children "><span class="title-number">I </span><span class="title-name">First Steps</span></a><ol role="list"><li role="listitem"><a href="art-obs-bg.html" class=" "><span class="title-number">1 </span><span class="title-name">Beginnerʼs Guide</span></a></li></ol></li><li role="listitem"><a href="par-concepts.html" class="has-children "><span class="title-number">II </span><span class="title-name">Concepts</span></a><ol role="list"><li role="listitem"><a href="cha-obs-package-formats.html" class=" "><span class="title-number">2 </span><span class="title-name">Supported Build Recipes and Package Formats</span></a></li></ol></li><li role="listitem"><a href="bk01pt03.html" class="has-children "><span class="title-number">III </span><span class="title-name">Setup</span></a><ol role="list"><li role="listitem"><a href="cha-obs-osc.html" class=" "><span class="title-number">3 </span><span class="title-name">osc, the Command Line Tool</span></a></li><li role="listitem"><a href="cha-obs-prjconfig.html" class=" "><span class="title-number">4 </span><span class="title-name">Build Configuration</span></a></li></ol></li><li role="listitem" class="active"><a href="par-working.html" class="has-children you-are-here"><span class="title-number">IV </span><span class="title-name">Usage</span></a><ol role="list"><li role="listitem"><a href="cha-obs-basicworkflow.html" class=" you-are-here"><span class="title-number">5 </span><span class="title-name">Basic OBS Workflow</span></a></li><li role="listitem"><a href="cha-obs-local-building.html" class=" "><span class="title-number">6 </span><span class="title-name">Local Building</span></a></li><li role="listitem"><a href="cha-obs-source-services.html" class=" "><span class="title-number">7 </span><span class="title-name">Using Source Services</span></a></li><li role="listitem"><a href="cha-obs-scm-ci-workflow-integration.html" class=" "><span class="title-number">8 </span><span class="title-name">SCM/CI Workflow Integration</span></a></li><li role="listitem"><a href="cha-obs-stagingworkflow.html" class=" "><span class="title-number">9 </span><span class="title-name">Staging Workflow</span></a></li><li role="listitem"><a href="cha-obs-notifications.html" class=" "><span class="title-number">10 </span><span class="title-name">Notifications</span></a></li><li role="listitem"><a href="cha-obs-moderation.html" class=" "><span class="title-number">11 </span><span class="title-name">Moderation</span></a></li></ol></li><li role="listitem"><a href="par-best-practices.html" class="has-children "><span class="title-number">V </span><span class="title-name">Best Practices</span></a><ol role="list"><li role="listitem"><a href="cha-obs-best-practices-webuiusage.html" class=" "><span class="title-number">12 </span><span class="title-name">Using the OBS Web UI</span></a></li><li role="listitem"><a href="cha-obs-best-practices-basics.html" class=" "><span class="title-number">13 </span><span class="title-name">Basic Concepts and Work Styles</span></a></li><li role="listitem"><a href="cha-obs-best-practices-scm-integration.html" class=" "><span class="title-number">14 </span><span class="title-name">How to integrate external SCM sources</span></a></li><li role="listitem"><a href="cha-obs-best-practices-upstream.html" class=" "><span class="title-number">15 </span><span class="title-name">Publishing Upstream Binaries</span></a></li><li role="listitem"><a href="cha-obs-best-practices-bootstrapping.html" class=" "><span class="title-number">16 </span><span class="title-name">Bootstrapping</span></a></li><li role="listitem"><a href="cha-obs-best-practices-oscexamples.html" class=" "><span class="title-number">17 </span><span class="title-name"><code class="command">osc</code> Example Commands</span></a></li><li role="listitem"><a href="cha-obs-best-practices-advanced.html" class=" "><span class="title-number">18 </span><span class="title-name">Advanced Project Setups</span></a></li><li role="listitem"><a href="cha-obs-best-practices-kmp.html" class=" "><span class="title-number">19 </span><span class="title-name">Building Kernel Modules</span></a></li><li role="listitem"><a href="cha-obs-best-practices-howto.html" class=" "><span class="title-number">20 </span><span class="title-name">Common Questions and Solutions</span></a></li></ol></li><li role="listitem"><a href="par-reference.html" class="has-children "><span class="title-number">VI </span><span class="title-name">Reference</span></a><ol role="list"><li role="listitem"><a href="cha-obs-architecture.html" class=" "><span class="title-number">21 </span><span class="title-name">OBS Architecture</span></a></li><li role="listitem"><a href="cha-obs-concepts.html" class=" "><span class="title-number">22 </span><span class="title-name">OBS Concepts</span></a></li><li role="listitem"><a href="cha-obs-build-process.html" class=" "><span class="title-number">23 </span><span class="title-name">Build Process</span></a></li><li role="listitem"><a href="cha-obs-build-containers.html" class=" "><span class="title-number">24 </span><span class="title-name">Build Containers</span></a></li><li role="listitem"><a href="cha-obs-source-management.html" class=" "><span class="title-number">25 </span><span class="title-name">Source Management</span></a></li><li role="listitem"><a href="cha-obs-scm-bridge.html" class=" "><span class="title-number">26 </span><span class="title-name">SCM Bridge</span></a></li><li role="listitem"><a href="cha-obs-supported-formats.html" class=" "><span class="title-number">27 </span><span class="title-name">Supported Formats</span></a></li><li role="listitem"><a href="cha-obs-request-and-review-system.html" class=" "><span class="title-number">28 </span><span class="title-name">Request and Review System</span></a></li><li role="listitem"><a href="cha-obs-image-templates.html" class=" "><span class="title-number">29 </span><span class="title-name">Image Templates</span></a></li><li role="listitem"><a href="cha-obs-multibuild.html" class=" "><span class="title-number">30 </span><span class="title-name">Multiple Build Description File Handling</span></a></li><li role="listitem"><a href="cha-obs-maintenance-setup.html" class=" "><span class="title-number">31 </span><span class="title-name">Maintenance Support</span></a></li><li role="listitem"><a href="cha-obs-binary-tracking.html" class=" "><span class="title-number">32 </span><span class="title-name">Binary Package Tracking</span></a></li><li role="listitem"><a href="cha-obs-build-scheduling-and-dispatching.html" class=" "><span class="title-number">33 </span><span class="title-name">Scheduling and Dispatching</span></a></li><li role="listitem"><a href="cha-obs-build-constraints.html" class=" "><span class="title-number">34 </span><span class="title-name">Build Constraints</span></a></li><li role="listitem"><a href="cha-obs-build-preinstall.html" class=" "><span class="title-number">35 </span><span class="title-name">Building Preinstall Images</span></a></li><li role="listitem"><a href="cha-obs-authorization-token.html" class=" "><span class="title-number">36 </span><span class="title-name">Authorization</span></a></li><li role="listitem"><a href="cha-obs-qa-hooks.html" class=" "><span class="title-number">37 </span><span class="title-name">Quality Assurance(QA) Hooks</span></a></li></ol></li><li role="listitem"><a href="obs-glossary.html" class=" "><span class="title-number"> </span><span class="title-name">Glossary</span></a></li><li role="listitem"><a href="bk01apa.html" class=" "><span class="title-number">A </span><span class="title-name">GNU Licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-obs-basicworkflow" data-id-title="Basic OBS Workflow"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">5 </span><span class="title-name">Basic OBS Workflow</span></span> <a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><section class="sect1" id="sec-obs-basicworkflow-setuphome" data-id-title="Setting Up Your Home Project"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.1 </span><span class="title-name">Setting Up Your Home Project</span></span> <a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-setuphome">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
   This section shows how to set up your home project with the command line
   tool <code class="command">osc</code>. For more
   information about setting up your home project with the Web UI, see
   <a class="xref" href="art-obs-bg.html#sec-obsbg-uc-setuphome" title="1.6. Setting Up Your Home Project for the First Time">Section 1.6, “Setting Up Your Home Project for the First Time”</a>.
  </p><p>
   This chapter is based on the following assumptions:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     You have an account on an Open Build Service instance. To create an account, use the
     Web UI.
    </p></li><li class="listitem"><p>
     You have installed <code class="command">osc</code> as described in <a class="xref" href="cha-obs-osc.html#sec-obs-osc-install" title="3.1. Installing and Configuring">Section 3.1, “Installing and Configuring”</a>.
    </p></li><li class="listitem"><p>
     You have configured <code class="command">osc</code> as described in <a class="xref" href="cha-obs-osc.html#sec-osc-firsttime" title="3.3.2. Using osc for the First Time">Section 3.3.2, “Using <code class="command">osc</code> for the First Time”</a>.
    </p></li></ul></div><div class="procedure" id="id-1.2.8.2.4.6" data-id-title="Setting Up Your Home Project"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 5.1: </span><span class="title-name">Setting Up Your Home Project </span></span><a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#id-1.2.8.2.4.6">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step" id="st-basicworkflow-setuphome-oscls"><p>
     Get a list of all available build targets of your OBS instance:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> ls /</pre></div><p>
     For example, on the openSUSE Build Service, build targets will include distributions
     such as
     <code class="uri">openSUSE:Tumbleweed</code>,
     <code class="uri">openSUSE:Leap:<em class="replaceable">VERSION</em></code>,
     <code class="uri">openSUSE:Tools</code>, <code class="uri">openSUSE:Templates</code>.
    </p></li><li class="step" id="st-obs-metaprj"><p>
     Configure your build targets with:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> meta prj --edit home:obsgeeko</pre></div><p>The previous command shows a XML structure like this:</p><div class="example" id="id-1.2.8.2.4.6.3.5" data-id-title="XML Structure of Build Service Metadata"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 5.1: </span><span class="title-name">XML Structure of Build Service Metadata </span></span><a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#id-1.2.8.2.4.6.3.5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="example-contents"><div class="verbatim-wrap highlight xml"><pre class="screen"><code class="language-xml">&lt;project name="home:obsgeeko"&gt;
  &lt;title&gt;obsgeeko's Home Project&lt;/title&gt;
  &lt;description&gt;A description of the project.&lt;/description&gt;
  &lt;person userid="obsgeeko" role="bugowner"/&gt;
  &lt;!-- contains other OBS users --&gt;
  &lt;debuginfo&gt;
    &lt;enable repository="openSUSE_Factory"/&gt;
  &lt;/debuginfo&gt;
  &lt;!-- add &lt;repository&gt; elements here --&gt;
&lt;/project&gt;</code></pre></div></div></div></li><li class="step"><p>
     To add build targets, use the <code class="sgmltag-element">repository</code> element. For
     example, on openSUSE Build Service, you can add the build targets openSUSE Tumbleweed for x86 and
     x86-64 with:
    </p><div class="verbatim-wrap highlight xml"><pre class="screen"><code class="language-xml">&lt;repository name="openSUSE_Tumbleweed"&gt;
    &lt;path project="openSUSE:Tumbleweed" repository="standard"/&gt;
    &lt;arch&gt;i586&lt;/arch&gt;
    &lt;arch&gt;x86_64&lt;/arch&gt;
&lt;/repository&gt;</code></pre></div></li><li class="step"><p>
     Add more <code class="sgmltag-element">repository</code> elements as needed.  Insert the information
     from <a class="xref" href="cha-obs-basicworkflow.html#st-basicworkflow-setuphome-oscls" title="Step 1">Step 1</a> into the
     <code class="sgmltag-attribute">project</code> attribute.
    </p><p>
     On openSUSE Build Service, you can normally use the attribute
     <code class="sgmltag-attribute">repository</code> with the value
     <code class="sgmltag-attvalue">standard</code>.
     For example, to add openSUSE Leap as a build target, create an entry like:
    </p><div class="verbatim-wrap highlight xml"><pre class="screen"><code class="language-xml">&lt;repository name="openSUSE_Leap_42.3"&gt;
    &lt;path project="openSUSE:Leap:42.3" repository="standard"/&gt;
    &lt;arch&gt;i586&lt;/arch&gt;
    &lt;arch&gt;x86_64&lt;/arch&gt;
&lt;/repository&gt;</code></pre></div></li><li class="step"><p>
     Save the file (or leave it untouched).
    </p><p>
     <code class="command">osc</code> will check if the new configuration is valid XML. If the file
     is valid, <code class="command">osc</code> will save it. Otherwise, it will show an error and
     prompt you whether to <span class="guimenu">Try again?</span>. In this case, press
     <span class="keycap">n</span>. Your changes will be lost and you will need to start
     from <a class="xref" href="cha-obs-basicworkflow.html#st-obs-metaprj" title="Step 2">Step 2</a> again.
    </p></li></ol></div></div><p>
   After a while, the defined build targets show up in your home project.
  </p></section><section class="sect1" id="sec-obs-basicworkflow-create-new" data-id-title="Creating a New Package"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.2 </span><span class="title-name">Creating a New Package</span></span> <a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-create-new">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
   This section covers how to create packages for an arbitrary software project,
   which we will refer to here as the <span class="quote">“<span class="quote">upstream project</span>”</span>. We
   assume that this project contains source code
   which you want to package for one or more SUSE (openSUSE) distributions.
   We assume the setup of your home project in your OBS instance is
   already done. If not, refer to <a class="xref" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-setuphome" title="5.1. Setting Up Your Home Project">Section 5.1, “Setting Up Your Home Project”</a>.
  </p><p>
   To create a package from the upstream project, do the following:
  </p><div class="procedure" id="id-1.2.8.2.5.4" data-id-title="General Procedure to Build a RPM Package"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 5.2: </span><span class="title-name">General Procedure to Build a RPM Package </span></span><a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#id-1.2.8.2.5.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Open a shell. Choose or create a directory on your system in a partition
     that has enough space to hold the package sources.
    </p></li><li class="step"><p>
     Prepare your <em class="firstterm">working directory</em>.
     These steps only have to be performed once:
    </p><ol type="a" class="substeps"><li class="step"><p>
     Check out your home project:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> checkout home:obsgeeko</pre></div><p>
     This will create <code class="filename">home:obsgeeko</code> in the
     current directory.
    </p></li><li class="step"><p>Create a new package inside your local working directory:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">cd</code> home:obsgeeko
<code class="prompt user">geeko &gt; </code><code class="command">osc</code> mkpac <em class="replaceable">YOUR_PROJECT</em></pre></div></li></ol></li><li class="step"><p>
     Download the source of the upstream project and save it in
     <code class="filename">home:obsgeeko/<em class="replaceable">YOUR_PROJECT</em></code>.
    </p></li><li class="step"><p>
     Create a <em class="firstterm">spec file</em> which
     contains metadata and build instructions.
     For more information about spec files, see
     <a class="link" href="https://rpm-packaging-guide.github.io" target="_blank">https://rpm-packaging-guide.github.io</a>.
    </p></li><li class="step"><p>Create a new changelog and add your changes:</p><ol type="a" class="substeps"><li class="step"><p>
       To create a new changelog file or to update an existing changelog file
       with <code class="command">osc</code>, use:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> vc</pre></div><p>The command will open an editor with the following content:</p><div class="verbatim-wrap"><pre class="screen">-------------------------------------------------------------------
Fri Aug 23 08:42:42 UTC 2017 - <code class="systemitem">geeko</code>@example.com</pre></div></li><li class="step"><p>Enter your changes in the editor.</p><p>
       Usually, changelog entries contain a high-level overview like:
      </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Version Updates. </span>
          Provide a general overview of new features or changes in behavior
          of the package.
         </p></li><li class="listitem"><p><span class="formalpara-title">Bug and Security Fixes. </span>
          If a bug was fixed, mention the bug number.
          Most projects have policies or conventions for abbreviating bug
          numbers, so there is no need to add a long URL.
         </p><p>
         For example, in openSUSE Build Service, <code class="literal">boo#</code> is used for bugs
         on <a class="link" href="https://bugzilla.opensuse.org" target="_blank">https://bugzilla.opensuse.org</a> and
         <code class="literal">fate#</code> is used for features on
         <a class="link" href="https://fate.opensuse.org" target="_blank">https://fate.opensuse.org</a>.
        </p></li><li class="listitem"><p><span class="formalpara-title">Incompatible Changes. </span>
          Mention incompatible changes, such as API changes, that affect
          users or other developers creating extensions of your package.
         </p></li><li class="listitem"><p><span class="formalpara-title">Distribution-Related Changes. </span>
          Mention any changes in the package structure, package names,
          and additions or removals of patch files or <span class="quote">“<span class="quote">hacks</span>”</span>.
         </p></li></ul></div><p>
       For more information about changelogs, see <a class="link" href="https://en.opensuse.org/openSUSE:Creating_a_changes_file_(RPM)" target="_blank">https://en.opensuse.org/openSUSE:Creating_a_changes_file_(RPM)</a>.
      </p></li></ol></li><li class="step"><p>Add all the files to your working directory:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> add *.spec *.changes *.tar.gz</pre></div></li><li class="step"><p>Build the package for a specific distribution and architecture,
     for example, openSUSE Tumbleweed for x86-64:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> build --local-package openSUSE_Tumbleweed x86_64 *.spec</pre></div><p>
     If you encounter problems, see <a class="xref" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-builderrors" title="5.3. Investigating the Local Build Process">Section 5.3, “Investigating the Local Build Process”</a>.
    </p></li><li class="step"><p>
     Check if your build was successful. If everything was fine, commit the
     files to your package to your home project on OBS:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> commit</pre></div></li></ol></div></div><p>
   To delete a file in your working directory, merely deleting it from the local
   filesystem (<code class="command">rm FILE</code>) is not sufficient, since
   <code class="command">osc</code>, like any other Source Code Control System, will just complain
   that the file is missing. If you really want to delete a file, use the command:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> delete FILE</pre></div><p>
   While there is no dedicated <code class="command">osc</code> to "move" (rename) a file,
   the desired end result can be obtained using the following procedure:
  </p><div class="procedure" id="id-1.2.8.2.5.8" data-id-title="Procedure for Moving a File within a Locally Checked-out OBS Package"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 5.3: </span><span class="title-name">Procedure for Moving a File within a Locally Checked-out OBS Package </span></span><a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#id-1.2.8.2.5.8">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">cp</code> ORIGINAL_FILE NEW_FILE</pre></div></li><li class="step"><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> delete ORIGINAL_FILE</pre></div></li><li class="step"><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> add NEW_FILE</pre></div></li><li class="step"><p>And, finally:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> status</pre></div><p>to verify that the end result is as intended.</p></li></ol></div></div></section><section class="sect1" id="sec-obs-basicworkflow-builderrors" data-id-title="Investigating the Local Build Process"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.3 </span><span class="title-name">Investigating the Local Build Process</span></span> <a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-builderrors">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
   It is hard to describe a general procedure when you encounter a build
   error. Most build errors are very specific to the package being built.
   However, there are generic tools that often help:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><a class="xref" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-builderrors-buildlog" title="5.3.1. Build Log">Section 5.3.1, “Build Log”</a></p></li><li class="listitem"><p><a class="xref" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-builderrors-buildroot" title="5.3.2. Local Build Root Directory">Section 5.3.2, “Local Build Root Directory”</a></p></li></ul></div><section class="sect2" id="sec-obs-basicworkflow-builderrors-buildlog" data-id-title="Build Log"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.3.1 </span><span class="title-name">Build Log</span></span> <a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-builderrors-buildlog">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
    Each build produces a log file on OBS. This log file can be viewed by
    the <code class="command">buildlog</code> (or <code class="command">bl</code>) subcommand.
    It needs a build target which is the distribution and the architecture.
   </p><p>
    For example, to view the build log of your current project
    for openSUSE Tumbleweed on a x86-64 architecture, use:
    use:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> buildlog openSUSE_Tumbleweed x86_64</pre></div><p>
    However, this command will print the complete build log which could be
    difficult to spot the errors. Use the <code class="command">buildlogtail</code>
    subcommand to show only the end of the log file:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> buildlogtail openSUSE_Tumbleweed x86_64</pre></div><p>
    Additionally, the <code class="command">osc</code> creates some build log files in the build
    directory <code class="filename">/var/tmp/build-root/</code>:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.2.8.2.6.6.8.1"><span class="term"><code class="filename">.build.log</code></span></dt><dd><p>Contains the log.</p></dd><dt id="id-1.2.8.2.6.6.8.2"><span class="term"><code class="filename">.build.command</code></span></dt><dd><p>
       Contains the command which is used to build the package. For RPM-like
       systems it is <code class="command">rpmbuild</code> <code class="option">-ba <em class="replaceable">PACKAGE</em>.spec</code>.
      </p></dd><dt id="id-1.2.8.2.6.6.8.3"><span class="term"><code class="filename">.build.packages</code></span></dt><dd><p>
       Contains the path to all object files.
      </p></dd></dl></div></section><section class="sect2" id="sec-obs-basicworkflow-builderrors-buildroot" data-id-title="Local Build Root Directory"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.3.2 </span><span class="title-name">Local Build Root Directory</span></span> <a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-builderrors-buildroot">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
    If you build a package locally and you get a build error, investigate
    the problems in the build root directory directly. This is sometimes
    easier and more effective than only looking at the build log.
   </p><p>
    By default, the directory <code class="filename">/var/tmp/build-root/</code>
    is used as the <span><em class="emphasis">build root</em></span>. This is defined in
    the configuration file <code class="filename">~/.oscrc</code> using the
    key <code class="option">build-root</code>.
   </p><p>
    Each combination of distribution and architecture has its own build
    root. To change into the build root for openSUSE Tumbleweed on the
    x86-64 architecture, use the following command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> chroot openSUSE_Tumbleweed x86_64</pre></div><p>
    When prompted, enter the <code class="systemitem">root</code> password.
   </p><p>
    Your shell will then change to the directory
    <code class="filename">/home/abuild</code> belonging to the user
    <code class="systemitem">abuild</code> in group <code class="systemitem">abuild</code>.
   </p><p>
    The build root contains the following structure:
   </p><div class="example" id="exa-workflow-buildroot" data-id-title="Directory Structure of a Build Root (/var/tmp/build-root/)"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 5.2: </span><span class="title-name">Directory Structure of a Build Root (<code class="filename">/var/tmp/build-root/</code>) </span></span><a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#exa-workflow-buildroot">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">/home/abuild/
└── rpmbuild
    ├── BUILD <span class="callout" id="co-workflow-buildroot-build">1</span>
    ├── BUILDROOT  <span class="callout" id="co-workflow-buildroot-buildroot">2</span>
    ├── OTHER  <span class="callout" id="co-workflow-buildroot-other">3</span>
    ├── RPMS  <span class="callout" id="co-workflow-buildroot-rpms">4</span>
    │   ├── i386
    │   ├── noarch
    │   └── x86_64
    ├── SOURCES  <span class="callout" id="co-workflow-buildroot-sources">5</span>
    ├── SPECS  <span class="callout" id="co-workflow-buildroot-specs">6</span>
    └── SRPMS  <span class="callout" id="co-workflow-buildroot-srpms">7</span></pre></div><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-workflow-buildroot-build"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       Contains directory named after the package name.
       In spec files, the name of the package directory is referenced
       using the <code class="systemitem">%buildroot</code> macro.
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-workflow-buildroot-buildroot"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       If the build process was unable to create a package, this directory
       contains all files and directories which are installed in the target
       system through the <code class="systemitem">%install</code>
       section of the spec file.
      </p><p>
       If the package has been successfully built, this directory will be
       emptied.
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-workflow-buildroot-other"><span class="callout">3</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       Usually contains the file <code class="filename">rpmlint.log</code>.
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-workflow-buildroot-rpms"><span class="callout">4</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       If the build was successful, stores binary RPMs into subdirectories of
       architecture
       (for example, <code class="filename">noarch</code> or
       <code class="filename">x86_64</code>).
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-workflow-buildroot-sources"><span class="callout">5</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       All source files from the working copy will be copied here.
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-workflow-buildroot-specs"><span class="callout">6</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-workflow-buildroot-srpms"><span class="callout">7</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       Stores source RPMs into this directory.
      </p></td></tr></table></div></div></div></section></section><section class="sect1" id="sec-obs-basicworkflow-add-dependencies" data-id-title="Dependency Handling in Your Projects"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.4 </span><span class="title-name">Dependency Handling in Your Projects</span></span> <a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-add-dependencies">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
   As described in more detail in <a class="xref" href="art-obs-bg.html" title="Chapter 1. Beginnerʼs Guide">Chapter 1, <em>Beginnerʼs Guide</em></a>, both types
   of package dependencies (build and runtime) are specified in the build
   recipe, and exactly how this is done is beyond the scope of this Open Build Service
   documentation.
  </p><p>
   The Open Build Service provides the following methods to handle both types of
   dependencies (build and runtime) in your projects:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     <a class="xref" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-layering" title="5.4.1. Associating Other Repositories with Your Repository">Section 5.4.1, “Associating Other Repositories with Your Repository”</a>
     (<span><em class="emphasis">layering</em></span>)
    </p></li><li class="listitem"><p>
     <a class="xref" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-reuse" title="5.4.2. Reusing Packages in Your Project">Section 5.4.2, “Reusing Packages in Your Project”</a>
     (<span><em class="emphasis">linking</em></span> and <span><em class="emphasis">aggregating</em></span>)
    </p></li></ul></div><section class="sect2" id="sec-obs-basicworkflow-layering" data-id-title="Associating Other Repositories with Your Repository"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.4.1 </span><span class="title-name">Associating Other Repositories with Your Repository</span></span> <a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-layering">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
    There is no need to duplicate the work of others. If you need a specific
    package which is available in another repository, you can reference this
    repository in your project metadata. This is called <span><em class="emphasis">layering</em></span>.
   </p><p>
    When a package is needed, it can be installed from another
    other repository (see the note below).
   </p><p>
    To add another repository that can be used as build or installation
    requirements, do the following:
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Open a terminal.
     </p></li><li class="step"><p>
      Edit the project metadata:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> meta prj --edit home:obsgeeko</pre></div></li><li class="step" id="st-obs-basicworkflow-layering-repository"><p>
      Search for <code class="sgmltag-element">repository</code> elements. For example, to allow usage
      packages from <code class="uri">devel:languages:python</code> in a
      openSUSE Tumbleweed project, extend the <code class="sgmltag-element">repository</code> element with:
     </p><div class="verbatim-wrap highlight xml"><pre class="screen">&lt;repository name="openSUSE_Tumbleweed"&gt;
    <span><span class="emphasis"><strong>&lt;path project="devel:languages:python" repository="openSUSE_Factory"/&gt;</strong></span></span>
    &lt;path project="openSUSE:Factory" repository="standard"/&gt;
    &lt;arch&gt;x86_64&lt;/arch&gt;
&lt;/repository&gt;</pre></div><div id="id-1.2.8.2.7.5.5.3.3" data-id-title="Order Is Important" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Order Is Important</div><p>
       The order of the <code class="sgmltag-element">path</code> elements is important:
       <code class="sgmltag-element">path</code> elements are searched
       from top to bottom.
      </p><p>
       If a package cannot be found in the first
       repository, the second repository is considered.
       When the first suitable package is found, it is installed and the
       build preparation can continue.
      </p><p>
       For practical reasons, additional repositories should be added
       before the standard repositories of the specified
       distribution.
      </p></div></li><li class="step" id="st-obs-basicworkflow-layering-path"><p>
      Add more <code class="sgmltag-element">path</code> elements under the same
      <code class="sgmltag-element">repository</code> element.
     </p></li><li class="step"><p>
      If necessary, repeat <a class="xref" href="cha-obs-basicworkflow.html#st-obs-basicworkflow-layering-repository" title="Step 3">Step 3</a> and
      <a class="xref" href="cha-obs-basicworkflow.html#st-obs-basicworkflow-layering-path" title="Step 4">Step 4</a> to add <code class="sgmltag-element">path</code>
      elements to <code class="sgmltag-element">repository</code> elements of other distributions or releases.
     </p></li></ol></div></div></section><section class="sect2" id="sec-obs-basicworkflow-reuse" data-id-title="Reusing Packages in Your Project"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.4.2 </span><span class="title-name">Reusing Packages in Your Project</span></span> <a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-reuse">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
    To reuse existing packages in your package repository, OBS offers
    two methods: <span class="quote">“<span class="quote">aggregating</span>”</span> and <span class="quote">“<span class="quote">linking</span>”</span>.
   </p><section class="sect3" id="sec-obs-basicworkflow-reuse-aggregating" data-id-title="Aggregating a Package"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">5.4.2.1 </span><span class="title-name">Aggregating a Package</span></span> <a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-reuse-aggregating">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
     An <span class="quote">“<span class="quote">aggregate</span>”</span> package is a pointer to an OBS package.
     Such package and the result of it are referenced int another project.
     <span class="quote">“<span class="quote">Aggregating</span>”</span> is used in the following situations:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       No changes in the source code are needed.
      </p></li><li class="listitem"><p>
       Packages that are needed for building are only available in a
       different project.
      </p></li><li class="listitem"><p>
       Build results (binaries) of the aggregated package are copied
       into the target's package repository.
      </p></li><li class="listitem"><p>To avoid package rebuilds.</p></li></ul></div><p>
     The general syntax of the <code class="command">aggregatepac</code> command is:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> aggregatepac <em class="replaceable">SOURCEPRJ</em> <em class="replaceable">SOURCEPAC</em> <em class="replaceable">DESTPRJ</em></pre></div><p>
     For example, to aggregate the package <span class="package">python-lxml</span>
     from <code class="uri">devel:language:python</code> into your home project,
     use the following command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> aggregatepac devel:language:python python-lxml home:obsgeeko</pre></div><p>
     The next time you update your working directory, the <code class="filename">python-lxml</code>

     contains the <code class="filename">_aggregate</code> file.
    </p></section><section class="sect3" id="sec-obs-basicworkflow-reuse-linking" data-id-title="Linking a Package"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">5.4.2.2 </span><span class="title-name">Linking a Package</span></span> <a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-reuse-linking">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
     A linked package is a clone of another package with
     additional modifications. Linking is used in the following situations:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       The source code needs changes, but the source either cannot be changed
       in the original package or doing so is impractical or inconvenient to
       change the source.
      </p></li><li class="listitem"><p>
       To separate the original source from own patches.
      </p></li></ul></div><p>
     The general syntax of the <code class="command">linkpac</code> command is:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> linkpac <em class="replaceable">SOURCEPRJ</em> <em class="replaceable">SOURCEPAC</em> <em class="replaceable">DESTPRJ</em></pre></div><p>
     For example, to link the package <span class="package">python-lxml</span> from
     <code class="uri">devel:language:python</code> into your home project, use the
     following command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> linkpac devel:language:python python-lxml home:obsgeeko</pre></div><p>
     In contrast to aggregating, the checkout contains all the
     files from the linked repository. To reduce it to a single file (like
     with aggregating), <span class="quote">“<span class="quote">unexpand</span>”</span> it in the working
     directory like this:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">geeko &gt; </code><code class="command">osc</code> up --unexpand-link
Unexpanding to rev 1
A    _link
D    pytest-3.2.1.tar.gz
D    python-pytest-doc.changes
D    python-pytest-doc.spec
D    python-pytest.changes
D    python-pytest.spec
At revision 1.</pre></div><p>
     This gives you a <code class="filename">_link</code> file similar to the
     <code class="filename">_aggregate</code> file. You can use the <code class="option">--expand-link</code>
     option in the <code class="command">up</code> subcommand to revert to the previous
     state.
    </p></section></section></section><section class="sect1" id="sec-obs-basicworkflow-manage-group" data-id-title="Manage Group"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.5 </span><span class="title-name">Manage Group</span></span> <a title="Permalink" class="permalink" href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-manage-group">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
    Users with Maintainer rights can add users to their group and remove users
    from it. They can also give other users Maintainer rights.
  </p><div class="verbatim-wrap"><pre class="screen"><code class="command">osc api -d "&lt;group&gt;&lt;title&gt;&lt;group-title&gt;&lt;/title&gt;&lt;email&gt;&lt;group-email&gt;&lt;/email&gt;&lt;maintainer userid="&lt;user-name&gt;"/&gt;&lt;person&gt;&lt;person userid="&lt;user_name&gt;"/&gt;&lt;/person&gt;&lt;/group&gt;' -X PUT "/group/&lt;group-title&gt;" </code></pre></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="par-working.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Part IV </span>Usage</span></a> </div><div><a class="pagination-link next" href="cha-obs-local-building.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 6 </span>Local Building</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-setuphome"><span class="title-number">5.1 </span><span class="title-name">Setting Up Your Home Project</span></a></span></li><li><span class="sect1"><a href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-create-new"><span class="title-number">5.2 </span><span class="title-name">Creating a New Package</span></a></span></li><li><span class="sect1"><a href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-builderrors"><span class="title-number">5.3 </span><span class="title-name">Investigating the Local Build Process</span></a></span></li><li><span class="sect1"><a href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-add-dependencies"><span class="title-number">5.4 </span><span class="title-name">Dependency Handling in Your Projects</span></a></span></li><li><span class="sect1"><a href="cha-obs-basicworkflow.html#sec-obs-basicworkflow-manage-group"><span class="title-number">5.5 </span><span class="title-name">Manage Group</span></a></span></li></ul></div> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE  2025</span></div></div></footer></body></html>